import BigNumber from "bignumber.js";
import { utils } from "../src";
import { BaseAddress, RewardAddress } from "../src/address";
import {
  GovAction,
  HashCredential,
  HashType,
  Input,
  NetworkId,
  PlutusData,
  PlutusScript,
  PlutusScriptType,
  ProposalProcedure,
  ProtocolParams,
  Voter,
  VotingProcedure,
} from "../src/types";

export const pParams: ProtocolParams = {
  minFeeA: new BigNumber(44),
  minFeeB: new BigNumber(155381),
  stakeKeyDeposit: new BigNumber(2000000),
  lovelacePerUtxoWord: new BigNumber(34482),
  utxoCostPerByte: new BigNumber(4310),
  collateralPercent: new BigNumber(150),
  priceSteps: new BigNumber(0.0577),
  priceMem: new BigNumber(0.0000721),
  languageView: {
    PlutusScriptV1: [
      205665, 812, 1, 1, 1000, 571, 0, 1, 1000, 24177, 4, 1, 1000, 32, 117366, 10475, 4, 23000, 100,
      23000, 100, 23000, 100, 23000, 100, 23000, 100, 23000, 100, 100, 100, 23000, 100, 19537, 32,
      175354, 32, 46417, 4, 221973, 511, 0, 1, 89141, 32, 497525, 14068, 4, 2, 196500, 453240, 220,
      0, 1, 1, 1000, 28662, 4, 2, 245000, 216773, 62, 1, 1060367, 12586, 1, 208512, 421, 1, 187000,
      1000, 52998, 1, 80436, 32, 43249, 32, 1000, 32, 80556, 1, 57667, 4, 1000, 10, 197145, 156, 1,
      197145, 156, 1, 204924, 473, 1, 208896, 511, 1, 52467, 32, 64832, 32, 65493, 32, 22558, 32,
      16563, 32, 76511, 32, 196500, 453240, 220, 0, 1, 1, 69522, 11687, 0, 1, 60091, 32, 196500,
      453240, 220, 0, 1, 1, 196500, 453240, 220, 0, 1, 1, 806990, 30482, 4, 1927926, 82523, 4,
      265318, 0, 4, 0, 85931, 32, 205665, 812, 1, 1, 41182, 32, 212342, 32, 31220, 32, 32696, 32,
      43357, 32, 32247, 32, 38314, 32, 57996947, 18975, 10,
    ],
    PlutusScriptV2: [
      205665, 812, 1, 1, 1000, 571, 0, 1, 1000, 24177, 4, 1, 1000, 32, 117366, 10475, 4, 23000, 100,
      23000, 100, 23000, 100, 23000, 100, 23000, 100, 23000, 100, 100, 100, 23000, 100, 19537, 32,
      175354, 32, 46417, 4, 221973, 511, 0, 1, 89141, 32, 497525, 14068, 4, 2, 196500, 453240, 220,
      0, 1, 1, 1000, 28662, 4, 2, 245000, 216773, 62, 1, 1060367, 12586, 1, 208512, 421, 1, 187000,
      1000, 52998, 1, 80436, 32, 43249, 32, 1000, 32, 80556, 1, 57667, 4, 1000, 10, 197145, 156, 1,
      197145, 156, 1, 204924, 473, 1, 208896, 511, 1, 52467, 32, 64832, 32, 65493, 32, 22558, 32,
      16563, 32, 76511, 32, 196500, 453240, 220, 0, 1, 1, 69522, 11687, 0, 1, 60091, 32, 196500,
      453240, 220, 0, 1, 1, 196500, 453240, 220, 0, 1, 1, 1159724, 392670, 0, 2, 806990, 30482, 4,
      1927926, 82523, 4, 265318, 0, 4, 0, 85931, 32, 205665, 812, 1, 1, 41182, 32, 212342, 32,
      31220, 32, 32696, 32, 43357, 32, 32247, 32, 38314, 32, 35892428, 10, 57996947, 18975, 10,
      38887044, 32947, 10,
    ],
    PlutusScriptV3: [
      100788, 420, 1, 1, 1000, 173, 0, 1, 1000, 59957, 4, 1, 11183, 32, 201305, 8356, 4, 16000, 100,
      16000, 100, 16000, 100, 16000, 100, 16000, 100, 16000, 100, 100, 100, 16000, 100, 94375, 32,
      132994, 32, 61462, 4, 72010, 178, 0, 1, 22151, 32, 91189, 769, 4, 2, 85848, 123203, 7305,
      -900, 1716, 549, 57, 85848, 0, 1, 1, 1000, 42921, 4, 2, 24548, 29498, 38, 1, 898148, 27279, 1,
      51775, 558, 1, 39184, 1000, 60594, 1, 141895, 32, 83150, 32, 15299, 32, 76049, 1, 13169, 4,
      22100, 10, 28999, 74, 1, 28999, 74, 1, 43285, 552, 1, 44749, 541, 1, 33852, 32, 68246, 32,
      72362, 32, 7243, 32, 7391, 32, 11546, 32, 85848, 123203, 7305, -900, 1716, 549, 57, 85848, 0,
      1, 90434, 519, 0, 1, 74433, 32, 85848, 123203, 7305, -900, 1716, 549, 57, 85848, 0, 1, 1,
      85848, 123203, 7305, -900, 1716, 549, 57, 85848, 0, 1, 955506, 213312, 0, 2, 270652, 22588, 4,
      1457325, 64566, 4, 20467, 1, 4, 0, 141992, 32, 100788, 420, 1, 1, 81663, 32, 59498, 32, 20142,
      32, 24588, 32, 20744, 32, 25933, 32, 24623, 32, 43053543, 10, 53384111, 14333, 10, 43574283,
      26308, 10, 16000, 100, 16000, 100, 962335, 18, 2780678, 6, 442008, 1, 52538055, 3756, 18,
      267929, 18, 76433006, 8868, 18, 52948122, 18, 1995836, 36, 3227919, 12, 901022, 1, 166917843,
      4307, 36, 284546, 36, 158221314, 26549, 36, 74698472, 36, 333849714, 1, 254006273, 72,
      2174038, 72, 2261318, 64571, 4, 207616, 8310, 4, 1293828, 28716, 63, 0, 1, 1006041, 43623,
      251, 0, 1,
    ],
  },
  maxValueSize: 5000,
  minFeeRefScriptCostPerByte: new BigNumber(15),
};

export const tokens = [
  {
    policyId: "30aa65f5efa96eaf3bc9a3e76ff47c6eac6472f908d6591f93e329fe",
    assetName: "6d65746143686c616d79646961546f6b656e",
    amount: new BigNumber(500),
  },
  {
    policyId: "d070f6b0e45fc3cd280e21fd4fcac4d59b3d35b23387eb6559455879",
    assetName: "6e6575726f6e",
    amount: new BigNumber(500),
  },
  {
    policyId: "3691ce00d8a2bd035a85d77e5428e34da58de9acbeedeee8256b8175",
    assetName: "5350414345424142455a32323238",
    amount: new BigNumber(1),
  },
  {
    policyId: "3691ce00d8a2bd035a85d77e5428e34da58de9acbeedeee8256b8175",
    assetName: "5350414345424142455a393635",
    amount: new BigNumber(1),
  },
];

const HARDENED = 2147483648;
const paymentCred0: HashCredential = {
  hash: Buffer.from("4eec4012a1a73ae0074028b016d1084cd9d39ac55bff0b52590dd137", "hex"),
  type: HashType.ADDRESS,
  bipPath: {
    purpose: 1852 + HARDENED,
    coin: 1815 + HARDENED,
    account: 0 + HARDENED,
    chain: 0,
    index: 0,
  },
};

const paymentCred1: HashCredential = {
  hash: Buffer.from("fbe39e3c2b61a864096ebbfb8ed7b7a3fc0a0265c8adafa954920e6f", "hex"),
  type: HashType.ADDRESS,
  bipPath: {
    purpose: 1852 + HARDENED,
    coin: 1815 + HARDENED,
    account: 0 + HARDENED,
    chain: 0,
    index: 1,
  },
};

const paymentCred2: HashCredential = {
  hash: Buffer.from("fbe39e3c2b61a864096ebbfb8ed7b7a3fc0a0265c8adafa954920e7f", "hex"),
  type: HashType.ADDRESS,
  bipPath: {
    purpose: 1852 + HARDENED,
    coin: 1815 + HARDENED,
    account: 0 + HARDENED,
    chain: 0,
    index: 1,
  },
};

const paymentCredChange: HashCredential = {
  hash: Buffer.from("041c5529bacf35c90dedf1a4c0394b04e2129ed6759adee51782ebdf", "hex"),
  type: HashType.ADDRESS,
  bipPath: {
    purpose: 1852 + HARDENED,
    coin: 1815 + HARDENED,
    account: 0 + HARDENED,
    chain: 1,
    index: 0,
  },
};

const stakeCredential: HashCredential = {
  hash: Buffer.from("45d3dfac74ec966ef4b1ecafb14f6c0b8b0244505788bd8920892940", "hex"),
  type: HashType.ADDRESS,
  bipPath: {
    purpose: 1852 + HARDENED,
    coin: 1815 + HARDENED,
    account: 0 + HARDENED,
    chain: 2,
    index: 0,
  },
};

const address1 = new BaseAddress(NetworkId.MAINNET, paymentCred0, stakeCredential);
const address2 = new BaseAddress(NetworkId.MAINNET, paymentCred1, stakeCredential);
const stakeAddress1 = new RewardAddress(NetworkId.MAINNET, stakeCredential);

export const changeAddress = new BaseAddress(NetworkId.MAINNET, paymentCredChange, stakeCredential);
export const receiverAddress = utils.getAddressFromString(
  "addr1qycq3tsm0efv9gtwdpet0r5rx6xjgezkat84jyypufnzd2uaqtd5xya2y49fx5tr68ezuew4hd04nedg4udzx8gnxlns9j9kd5"
);

export const UTXOs: Array<Input> = [
  {
    txId: "d771da555feac5b6376652b284c20b39f7b5aef8ea8e03c927f7f731fed13314",
    index: 0,
    amount: new BigNumber(50000000),
    tokens: [],
    address: address2,
  },
  {
    txId: "d771da555feac5b6376652b284c20b39f7b5aef8ea8e03c927f7f731fed13313",
    index: 0,
    amount: new BigNumber(40000000),
    tokens: tokens,
    address: address2,
  },
  {
    txId: "d771da555feac5b6376652b284c20b39f7b5aef8ea8e03c927f7f731fed13312",
    index: 0,
    amount: new BigNumber(30000000),
    tokens: [],
    address: address1,
  },
  {
    txId: "d771da555feac5b6376652b284c20b39f7b5aef8ea8e03c927f7f731fed13311",
    index: 0,
    amount: new BigNumber(20000000),
    tokens: [],
    address: address1,
  },
  {
    txId: "d771da555feac5b6376652b284c20b39f7b5aef8ea8e03c927f7f731fed13310",
    index: 0,
    amount: new BigNumber(10000000),
    tokens: [],
    address: address1,
  },
];

export const plutusDataD1: PlutusData = {
  constructor: 0,
  fields: [
    {
      constructor: 0,
      fields: [
        {
          constructor: 0,
          fields: [Buffer.from("8b9818f41dffe69cb6725294ab2e8411f955fba26b1987b13bd063da", "hex")],
        },
        {
          constructor: 0,
          fields: [
            {
              constructor: 0,
              fields: [
                {
                  constructor: 0,
                  fields: [
                    Buffer.from("1809eac6f8eb4d2fdb99c1e3c36295a4d669dd53b554a54d0a501fa7", "hex"),
                  ],
                },
              ],
            },
          ],
        },
      ],
    },
    {
      constructor: 0,
      fields: [
        {
          constructor: 0,
          fields: [Buffer.from("8b9818f41dffe69cb6725294ab2e8411f955fba26b1987b13bd063da", "hex")],
        },
        {
          constructor: 0,
          fields: [
            {
              constructor: 0,
              fields: [
                {
                  constructor: 0,
                  fields: [
                    Buffer.from("1809eac6f8eb4d2fdb99c1e3c36295a4d669dd53b554a54d0a501fa7", "hex"),
                  ],
                },
              ],
            },
          ],
        },
      ],
    },
    {
      constructor: 1,
      fields: [],
    },
    {
      constructor: 0,
      fields: [
        {
          constructor: 0,
          fields: [
            Buffer.from("85d87212f6096732ac1cdbf604a12aa8cfd1fd0b66ab28fc77d3764c", "hex"),

            Buffer.from("44494e4f", "hex"),
          ],
        },

        6976381442,
      ],
    },
    2000000,

    2000000,
  ],
};

export const plutusScriptV2S1: PlutusScript = {
  cborHex:
    "59068601000032323232323232323232322223232533300a323232323232323232323232323232323232533301c3370e900000089919191919191919191919192999814002099b8848000ccc0040140180204c8c8c8c8c8c8c8c8c8c8c8c8c94ccc0e0c0ec0184c8c8c94ccc0ecc0f80084c8c8c8c94ccc0f14ccc0f14ccc0f0028402452808008a50100214a066e24040008cdc7802a44100375a60760046eb8c0e400458c0f0004dd5981c0011bae30360011630390053375e00c98150d8799fd87a9f581c84cc25ea4c29951d40b443b95bbc5676bc425470f96376d1984af9abffd8799fd8799fd87a9f581c2c967f4bd28944b06462e13c5e3f5d5fa6e03f8567569438cd833e6dffffffff003375e002024606c002606c0046eacc0d0004c0d0008c0c8004c0a8010cdc199b83337040029032240c4903219980180080426103d8798000302f006302d005222323232323232323253330323375e0020122646464646464a66607066ebc00c02c4c94ccc0f0c0fc0284c8c8c94ccc0fcc1080084c8c94ccc0f8cdc7802a45001533303e533303e3371200e002266e21200000714a026466e000200054ccc10402c5200013301801300b1616375a607e0046eb8c0f400458c100004dd5981e0011bae303a00116303d00916375a60780026078004607400260640046072016606e0142c606c002606c0046eacc0d0004c0d0008c0c8004c0a8008c0c4010c0bc00cc004004888c8c8c8c8c8c8c8c94ccc0c0cdd7800a6103d8798000132323232323253330363375e006016264a666074607a0142646464a66607a608000426464a66607866e3c015221001533303c533303c3371200e002266e21200000714a026466e000200054ccc0fc02c52000133301701701300b1616375a607a0046eb8c0ec00458c0f8004dd5981d0011bae303800116303b00916375a6074002607400460700026060004606e014606a0122c606800260680046eacc0c8004c0c8008c0c0004c0a0008c0bc00cc0b4008ccc8c0040048894ccc0a800852809919299981498018010a511333005005001003302e003375c605800497ae1011e581c15df89fe62968415bac4de9d8576da39c34db4717f46332572aca3eb00811e581c53391ebae9fa352a1108e2769df9baf0d3efcab0f49404bd6ac56bd400119805806800999919191800800911299981419b89480500044c8ccc010010004cdc080124028646464646464646464606e002606c002606a00260680026066002606400260620026060002605e002605c0042660080040026002002444a66604c66e1c0052000100213233300400400133702004900118160010090031bac3027001301f01832323374a9002198131ba90014bd701b94001376600260480026038a66603c66e1d2002301d011101116375a604400260340282660040086eb8cc060c06804d2002301a0133001001222533301f00214a026464a66603c66e3c00800c528899980280280080198118019bae30210023758603a002603a002603800260360026034002603200260300046eb0c058004c058004c054004c03000cc048004c048008c040004c02000c52616320053323232232533300e3370e9000000899191919299980a980c00109924c6600e0064649319299980a19b87480000044c8c8c8c94ccc06cc0780084c9263253330193370e9000000899191919299981018118010991924c64a66603e66e1d20000011323253330243027002132498c94ccc088cdc3a400000226464a66604e605400426493180d8008b181400098100010a99981119b87480080044c8c8c8c8c8c94ccc0acc0b800852616375a605800260580046eb4c0a8004c0a8008dd6981400098100010b18100008b1812800980e8018a99980f99b874800800454ccc088c07400c5261616301d00230140031630210013021002301f001301700416301700316375a60380026038004603400260240042c60240022c6eb8c058004c058008dd6180a00098060010b1806000980080091129998080010a4c264666008008602800600460026024004464a66601666e1d20000011323253330103013002149858dd7180880098048010a99980599b87480080044c8c94ccc040c04c00852616375c602200260120042c60120020086400664a66601266e1d200000113232533300e3011002149858dd6980780098038018a99980499b874800800454ccc030c01c00c5261616300700233001001480008888cccc01ccdc38008018061199980280299b8000448008c0380040080088c014dd5000918019baa0015734aae7555cf2ab9f5740ae855d101",
  type: PlutusScriptType.PlutusScriptV2,
};

export const plutusScriptV3S1: PlutusScript = {
  cborHex:
    "59068601000032323232323232323232322223232533300a323232323232323232323232323232323232533301c3370e900000089919191919191919191919192999814002099b8848000ccc0040140180204c8c8c8c8c8c8c8c8c8c8c8c8c94ccc0e0c0ec0184c8c8c94ccc0ecc0f80084c8c8c8c94ccc0f14ccc0f14ccc0f0028402452808008a50100214a066e24040008cdc7802a44100375a60760046eb8c0e400458c0f0004dd5981c0011bae30360011630390053375e00c98150d8799fd87a9f581c84cc25ea4c29951d40b443b95bbc5676bc425470f96376d1984af9abffd8799fd8799fd87a9f581c2c967f4bd28944b06462e13c5e3f5d5fa6e03f8567569438cd833e6dffffffff003375e002024606c002606c0046eacc0d0004c0d0008c0c8004c0a8010cdc199b83337040029032240c4903219980180080426103d8798000302f006302d005222323232323232323253330323375e0020122646464646464a66607066ebc00c02c4c94ccc0f0c0fc0284c8c8c94ccc0fcc1080084c8c94ccc0f8cdc7802a45001533303e533303e3371200e002266e21200000714a026466e000200054ccc10402c5200013301801300b1616375a607e0046eb8c0f400458c100004dd5981e0011bae303a00116303d00916375a60780026078004607400260640046072016606e0142c606c002606c0046eacc0d0004c0d0008c0c8004c0a8008c0c4010c0bc00cc004004888c8c8c8c8c8c8c8c94ccc0c0cdd7800a6103d8798000132323232323253330363375e006016264a666074607a0142646464a66607a608000426464a66607866e3c015221001533303c533303c3371200e002266e21200000714a026466e000200054ccc0fc02c52000133301701701300b1616375a607a0046eb8c0ec00458c0f8004dd5981d0011bae303800116303b00916375a6074002607400460700026060004606e014606a0122c606800260680046eacc0c8004c0c8008c0c0004c0a0008c0bc00cc0b4008ccc8c0040048894ccc0a800852809919299981498018010a511333005005001003302e003375c605800497ae1011e581c15df89fe62968415bac4de9d8576da39c34db4717f46332572aca3eb00811e581c53391ebae9fa352a1108e2769df9baf0d3efcab0f49404bd6ac56bd400119805806800999919191800800911299981419b89480500044c8ccc010010004cdc080124028646464646464646464606e002606c002606a00260680026066002606400260620026060002605e002605c0042660080040026002002444a66604c66e1c0052000100213233300400400133702004900118160010090031bac3027001301f01832323374a9002198131ba90014bd701b94001376600260480026038a66603c66e1d2002301d011101116375a604400260340282660040086eb8cc060c06804d2002301a0133001001222533301f00214a026464a66603c66e3c00800c528899980280280080198118019bae30210023758603a002603a002603800260360026034002603200260300046eb0c058004c058004c054004c03000cc048004c048008c040004c02000c52616320053323232232533300e3370e9000000899191919299980a980c00109924c6600e0064649319299980a19b87480000044c8c8c8c94ccc06cc0780084c9263253330193370e9000000899191919299981018118010991924c64a66603e66e1d20000011323253330243027002132498c94ccc088cdc3a400000226464a66604e605400426493180d8008b181400098100010a99981119b87480080044c8c8c8c8c8c94ccc0acc0b800852616375a605800260580046eb4c0a8004c0a8008dd6981400098100010b18100008b1812800980e8018a99980f99b874800800454ccc088c07400c5261616301d00230140031630210013021002301f001301700416301700316375a60380026038004603400260240042c60240022c6eb8c058004c058008dd6180a00098060010b1806000980080091129998080010a4c264666008008602800600460026024004464a66601666e1d20000011323253330103013002149858dd7180880098048010a99980599b87480080044c8c94ccc040c04c00852616375c602200260120042c60120020086400664a66601266e1d200000113232533300e3011002149858dd6980780098038018a99980499b874800800454ccc030c01c00c5261616300700233001001480008888cccc01ccdc38008018061199980280299b8000448008c0380040080088c014dd5000918019baa0015734aae7555cf2ab9f5740ae855d101",
  type: PlutusScriptType.PlutusScriptV3,
};

export const voter0: Voter = {
  type: 2,
  key: paymentCred2,
};

// hf init action
export const govAction0: GovAction = {
  type: 1,
  action: {
    prevActionId: null,
    protocolVersion: [10, 0],
  },
};

export const proposalProcedure0: ProposalProcedure = {
  deposit: new BigNumber(100000000000),
  rewardAccount: stakeAddress1.getBytes(),
  govAction: govAction0,
  anchor: {
    url: "https://strica.io",
    hash: Buffer.from("000000", "hex"),
  },
};

export const govActionId0 = {
  txId: Buffer.from("8c653ee5c9800e6d31e79b5a7f7d4400c81d44717ad4db633dc18d4c07e4a4fd", "hex"),
  index: 0,
};

export const votingProcedure0: VotingProcedure = {
  voter: voter0,
  votes: [
    {
      govActionId: govActionId0,
      vote: 1,
      anchor: null,
    },
  ],
};
